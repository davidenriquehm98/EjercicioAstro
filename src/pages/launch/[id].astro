---
import Layout from '../../layouts/Layout.astro';
import { getLaunchById, getLaunchesIds } from '../../services/spacex'
import CardLaunch from '../../components/CardLaunch.astro'
const { id } = Astro.params
let launch
if (id) {
  launch = await getLaunchById({ id })
}

export async function getStaticPaths () {
  return await getLaunchesIds()
}
---
<Layout title={`Lanzamiento ${id}`} >
  {launch &&
    <CardLaunch
      id={launch.id}
      flightNumber={launch.flight_number}
      img={launch.links.patch.small}
      details={launch.details}
      success={launch.success} />
  }
</Layout>